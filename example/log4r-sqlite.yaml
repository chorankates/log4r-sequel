---
log4r_config:
  loggers:
  - name: 'foo'
    outputters:
      - sequel
      - stdout
  outputters:
  # not needed, but feedback is useful
  - type: StdoutOutputter
    name: stdout
    formatter:
      type: PatternFormatter
      date_pattern: '%Y/%m/%d %H:%M.%s'
      pattern: '%d | %C | %l | %m'


  - type: SequelOutputter
    name: sequel
    level: DEBUG
    formatter:
      type: PatternFormatter
      date_pattern: '%Y/%m/%d %H:%M.%s'
      pattern: '%d!@#$%C!@#$%l!@#$%m' # date|level|event/class fullname|message

log4r_sequel_config:
  type: :sqlite
  file: log.sqlite # TODO make this at least time/pid stampable
  table: logs
  delimiter: '!@#$' # this is used to determine columns needed based on log4 configuration
  map:
    0: 'date'
    1: 'level'
    2: 'class'
    3: 'message'